/*
Luke Harby
slackwise LTD
https://slackwise.org.uk
2012 - present
*/

.accordion {
    &__item {
        text-decoration: none;
        border-bottom: none !important;
        display: block;
        position: relative;
        padding: 1rem 3rem 1rem 0;

        &:hover {
            color: $colour__black !important;
        }

        &::after {
            content: '\f489';
            font-family: $icon-font;
            position: absolute;
            right: 0;
            font-size: $default__spacer * 2;
            top: 0.8rem;

            @include mobile(0, $mobile-size) {
                font-size: 2.5rem;
            }
        }
    }

    ul {
        overflow: hidden;
        height: 0;

        li {
            display: flex;
        }
    }

    .open {
        &::after {
            content: '\f462';
            top: 0.75rem;

            @include mobile(0, $mobile-size) {
                top: 0.8rem;
            }
        }

        ~ ul {
            height: auto;
            overflow: auto;
            padding: 2rem 0;

            @include mobile(0, $mobile-size) {
                padding: 1.5rem 0;
            }
        }
    }

    li[class^='ion-'] {
        &:before {
            margin-right: 0.5rem;
        }

        a {
            position: relative;

            &:after {
                position: absolute;
                font-family: $icon-font;
                content: '\f30f';
                transform: rotate(-45deg);
                top: 0.4rem;
                right: -1.8rem;
            }
        }
    }
}

.no-js {
    .accordion {
        ul {
            height: auto;
            overflow: auto;
            padding: 2rem 0;
        }
    }
}

html.high-contrast {
    #posts {
        .post {
            .accordion {
                [href] {
                    border-bottom: none !important;
                }
            }
        }
    }
}
